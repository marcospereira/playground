{
  // Helps with autocompletion
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended", ":dependencyDashboard"],
  "baseBranchPatterns": [
    "main",
    "/^version-4.[8-9]$/"
  ],
  // Forces Renovate to scan for CVEs itself without requiring
  // GH Dependabot alerts.
  "osvVulnerabilityAlerts": true,
  "packageRules": [
    {
      groupName: 'kotest',
      groupSlug: 'kotest',
      matchPackageNames: [
        'io.kotest{/,}**',
      ],
    },
    // First disable major and minor updates
    {
      "description": "Disable major and minor updates for version branches",
      "matchBaseBranches": [
        "/^version-4.[8-9]$/"
      ],
      "matchUpdateTypes": [
        "major", "minor"
      ],
      "enabled": false
    },
    // Then enable security updates
    {
      "description": "Automerge CVE/Security updates for version branches",
      "matchBaseBranches": [
        "/^version-4.[8-9]$/"
      ],
      "vulnerabilityAlerts": {
        "enabled": true,
        "labels": ["AUTOMERGE", "CVE"]
      }
    },
    // Then enable patch/digest updates.
    {
      "description": "Automerge patch/digest updates for version branches",
      "matchUpdateTypes": ["patch", "digest"],
      "automerge": true,
      "matchBaseBranches": [
        "/^version-4.[8-9]$/"
      ],
      "labels": [
        "AUTOMERGE", "patch-deps"
      ]
    }
  ]
}
